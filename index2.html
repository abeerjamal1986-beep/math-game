<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>من سيربح المليون - رياضيات</title>
    <style>
        :root {
            --primary-bg: #020024;
            --accent: #ffd700;
            --card-bg: #090979;
            --correct: #28a745;
            --wrong: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--primary-bg);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #game-container {
            width: 90%;
            max-width: 800px;
            background: linear-gradient(145deg, #090979, #00d4ff33);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid var(--accent);
            text-align: center;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 1.2rem;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 10px;
        }

        #timer {
            color: var(--accent);
            font-weight: bold;
        }

        .question-box {
            font-size: 2rem;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #fff;
            color: white;
            padding: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 50px;
            transition: 0.3s;
            text-align: right;
        }

        .option-btn:hover {
            background: var(--accent);
            color: black;
        }

        .option-btn.correct { background-color: var(--correct) !important; border-color: white; }
        .option-btn.wrong { background-color: var(--wrong) !important; border-color: white; }

        .hidden { display: none; }
        
        #result-screen {
            font-size: 1.5rem;
        }

        button.restart-btn {
            background: var(--accent);
            border: none;
            padding: 10px 25px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen">
        <h1>من سيربح المليون - تحدي الأولويات</h1>
        <p>أجب على الأسئلة الحسابية قبل انتهاء الوقت!</p>
        <button class="restart-btn" onclick="startGame()">ابدأ اللعبة</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="stats-bar">
            <div>المبلغ: <span id="money" style="color: gold;">0</span> $</div>
            <div id="timer">الوقت: 30</div>
        </div>
        <div class="question-box" id="question-text">
            5 + 2 * 3 = ?
        </div>
        <div class="options-grid" id="options-container">
            </div>
    </div>

    <div id="result-screen" class="hidden">
        <h2 id="final-status">انتهت اللعبة!</h2>
        <p id="final-money">ربحت: 0 $</p>
        <button class="restart-btn" onclick="location.reload()">إعادة المحاولة</button>
    </div>
</div>

<script>
    const questions = [
        { q: "3 + 5 × 2", options: ["16", "13", "10", "21"], correct: "13" },
        { q: "(4 + 4) ÷ 2", options: ["4", "6", "8", "2"], correct: "4" },
        { q: "10 - 2³", options: ["2", "8", "4", "0"], correct: "2" },
        { q: "6 + 10 ÷ 2 - 1", options: ["7", "10", "8", "9"], correct: "10" },
        { q: "5 × (2 + 3) - 10", options: ["15", "5", "25", "0"], correct: "15" },
        { q: "12 ÷ 3 × 2", options: ["2", "8", "6", "4"], correct: "8" },
        { q: "2 + 3²", options: ["25", "11", "13", "15"], correct: "11" },
        { q: "20 ÷ (2 + 3) × 4", options: ["16", "1", "4", "20"], correct: "16" }
    ];

    const moneyMilestones = ["1,000", "5,000", "20,000", "50,000", "100,000", "250,000", "500,000", "1,000,000"];
    
    let currentIdx = 0;
    let timerValue = 30;
    let timerInterval;

    function startGame() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        if (currentIdx >= questions.length) {
            endGame(true);
            return;
        }

        resetTimer();
        const qData = questions[currentIdx];
        document.getElementById('question-text').innerText = qData.q;
        const container = document.getElementById('options-container');
        container.innerHTML = '';

        qData.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, choice) {
        clearInterval(timerInterval);
        const correct = questions[currentIdx].correct;
        
        if (choice === correct) {
            btn.classList.add('correct');
            document.getElementById('money').innerText = moneyMilestones[currentIdx];
            currentIdx++;
            setTimeout(loadQuestion, 1000);
        } else {
            btn.classList.add('wrong');
            setTimeout(() => endGame(false), 1000);
        }
    }

    function resetTimer() {
        clearInterval(timerInterval);
        timerValue = 30;
        document.getElementById('timer').innerText = `الوقت: ${timerValue}`;
        timerInterval = setInterval(() => {
            timerValue--;
            document.getElementById('timer').innerText = `الوقت: ${timerValue}`;
            if (timerValue <= 0) {
                clearInterval(timerInterval);
                endGame(false);
            }
        }, 1000);
    }

    function endGame(win) {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        if (win) {
            document.getElementById('final-status').innerText = "مبروك! أنت المليونير الحسابي!";
            document.getElementById('final-money').innerText = "ربحت: 1,000,000 $";
        } else {
            document.getElementById('final-status').innerText = "للأسف، خسرت!";
            const earned = currentIdx === 0 ? "0" : moneyMilestones[currentIdx-1];
            document.getElementById('final-money').innerText = `المبلغ المحقق: ${earned} $`;
        }
    }
</script>

</body>
</html>